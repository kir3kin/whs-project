(()=>{"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;t(this,n),this.sliderSelector=e,this.slider=document.querySelector(this.sliderSelector),this.sliderSpeed=a,this.activeBtns=!0,this.slideIndex=i<=1?1:this.slideIndex>=this.slidesCount?this.slidesCount:i,this.leftBtn=this.slider.querySelector("".concat(this.sliderSelector,"-btn-left")),this.rightBtn=this.slider.querySelector("".concat(this.sliderSelector,"-btn-right")),this.sliderWrap=this.slider.querySelector("".concat(this.sliderSelector,"-wrap")),this.slidesCount=this.sliderWrap.querySelectorAll("[data-slider=slider-slide]").length,this.slideWidth=this.sliderWrap.clientWidth,this.windowSizes=[991,768,480],this.windowStage=0}var i,a;return i=n,(a=[{key:"changeIndex",value:function(t){if(this.activeBtns){switch(t){case"right":this.slideIndex++,this.slideIndex>this.slidesCount&&(this.slideIndex=1);break;case"left":this.slideIndex--,this.slideIndex<=0&&(this.slideIndex=this.slidesCount)}this.changeSlide()}}},{key:"setSliderSpeed",value:function(){this.sliderWrap.style.transition="transform ".concat(this.sliderSpeed,"ms ease-in-out")}},{key:"changeSlide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.sliderWrap.style.transform="translateX(-".concat((this.slideIndex-1)*this.slideWidth,"px)"),t||this.deactivateCtrlBtns()}},{key:"deactivateCtrlBtns",value:function(){var t=this;this.activeBtns=!1,setTimeout((function(){t.activeBtns=!0}),this.sliderSpeed)}},{key:"activeCtrlBtns",value:function(){var t=this;this.leftBtn.addEventListener("click",(function(){return t.changeIndex("left")})),this.rightBtn.addEventListener("click",(function(){return t.changeIndex("right")}))}},{key:"checkWindowSize",value:function(){var t=this;window.addEventListener("resize",(function(){var e=t.windowSizes.filter((function(t){return t>window.innerWidth}));t.windowStage!==e.length&&(t.windowStage=e.length,t.slideWidth=t.sliderWrap.clientWidth,t.init())}))}},{key:"init",value:function(){var t=this;1!==this.slideIndex&&this.changeSlide(!0),setTimeout((function(){return t.setSliderSpeed()}),0),this.activeCtrlBtns(),this.checkWindowSize()}}])&&e(i.prototype,a),n}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(this,t),this.tab=document.querySelector(e),this.tabBtns=this.tab.querySelectorAll("[id^=tab-]"),this.tabBody=this.tab.querySelector("[data-tab=tabs-body]"),this.tabContents=this.tab.querySelectorAll("[data-tab^=tab-]"),this.errorMsg={notEqual:"Not equal number of tab buttons and number of tab content!",unRecognised:"Unrecognised error has occurred"},this.tabIndex=this.validateTabIndex(n),this.windowSizes=[991,768,480],this.windowStage=0}var e,n;return e=t,(n=[{key:"error",value:function(t){var e="";switch(t){case"notEqual":e=this.errorMsg[t];break;default:e=this.errorMsg.unRecognised}console.error(e)}},{key:"validateTabIndex",value:function(t){try{if(this.tabBtns.length!==this.tabContents.length)throw"notEqual";return t<=0?1:t>this.tabBtns.length?this.tabBtns.length:t}catch(t){this.error(t)}console.log("holla a todos")}},{key:"resetTabBtns",value:function(){this.tabBtns.forEach((function(t){t.classList.remove("tab-btn--active")}))}},{key:"resetTabContent",value:function(){this.tabContents.forEach((function(t){t.classList.remove("tab-context--active")}))}},{key:"changeTabContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&e){var n=this.tab.querySelector(".tab-context--active");this.tabBody.style.height="".concat(n.clientHeight,"px")}else{this.resetTabContent();var i=this.tab.querySelector("[data-tab=".concat(t.getAttribute("id"),"]"));this.tabBody.style.height="".concat(i.clientHeight,"px"),i.classList.add("tab-context--active")}}},{key:"checkWindowSize",value:function(){var t=this;window.addEventListener("resize",(function(){var e=t.windowSizes.filter((function(t){return t>window.innerWidth}));t.windowStage===e.length&&t.windowStage!==t.windowSizes.length||(t.windowStage=e.length,t.changeTabContent(!1,!0))}))}},{key:"init",value:function(){var t=this;this.tabBtns.forEach((function(e,n){e.addEventListener("click",(function(){t.resetTabBtns(),e.classList.add("tab-btn--active"),t.changeTabContent(e)})),t.tabIndex===++n&&(t.tabBody.style.display="block",e.click())})),this.checkWindowSize()}}])&&a(e.prototype,n),t}();function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.siteHash=window.location.hash,this.navBlock=document.querySelector(e),this.navLinks=this.navBlock.querySelectorAll("a")}var e,n;return e=t,(n=[{key:"init",value:function(){var t=this;if(this.siteHash){var e=this.navBlock.querySelector("[href$='".concat(this.siteHash,"']"));e&&e.classList.add("nav__item--active")}this.navLinks.forEach((function(e,n){e.addEventListener("click",(function(){Array.from(t.navLinks).map((function(t,e){n===e?t.classList.add("nav__item--active"):t.classList.remove("nav__item--active")}))}))}))}}])&&r(e.prototype,n),t}();function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d={translateY:-50,opacity:0,closeTime:300,timingFunc:"linear"},h=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;l(this,t),this.body=document.body,this.modalW=this.body.querySelector(e),this.slider=this.body.querySelector(n),this.modalBtn=this.slider.querySelectorAll("[data-modal=modal-slider]"),this.modalClose=this.modalW.querySelector(".modal__close"),this.modalWrapp=this.modalW.querySelector(".modal__wrap"),this.modalContent=this.modalW.querySelector(".modal__content"),this.modalContentProp=this.validateModalProp(i)}var e,n;return e=t,(n=[{key:"validateModalProp",value:function(t){return{translateY:t.translateY?t.translateY:d.translateY,opacity:t.opacity?t.opacity:d.opacity,closeTime:t.closeTime?t.closeTime:d.closeTime,timingFunc:t.timingFunc?t.timingFunc:d.timingFunc}}},{key:"initModalContentAnimation",value:function(){var t=["transform ".concat(this.modalContentProp.closeTime,"ms ").concat(this.modalContentProp.timingFunc),"opacity ".concat(this.modalContentProp.closeTime,"ms ").concat(this.modalContentProp.timingFunc)],e={transform:"translateY(".concat(this.modalContentProp.translateY,"px)"),opacity:this.modalContentProp.opacity,transition:t.join(", ")};Object.assign(this.modalContent.style,e)}},{key:"closeModal",value:function(){var t=this;this.initModalContentAnimation(),setTimeout((function(){t.modalW.classList.remove("modal--show"),t.body.classList.remove("no-scroll")}),this.modalContentProp.closeTime)}},{key:"modalChangeContent",value:function(t){var e=t.currentTarget.closest(".slider-slide"),n=e.querySelector(".slider-slide__title").innerText,i=e.querySelector(".slider-slide__subtitle").innerText,a=e.querySelector(".slider-slide__img img").getAttribute("src");this.modalContent.querySelector(".modal__title").innerText=n,this.modalContent.querySelector(".modal__desc").innerText=i,this.modalContent.querySelector(".modal__img img").setAttribute("src",a)}},{key:"init",value:function(){var t=this;this.modalBtn.forEach((function(e){e.addEventListener("click",(function(e){t.initModalContentAnimation(),t.modalChangeContent(e),t.body.classList.add("no-scroll"),t.modalW.classList.add("modal--show"),t.modalContent.addEventListener("click",(function(t){return t.stopPropagation()})),setTimeout((function(){t.modalContent.style.transform="none",t.modalContent.style.opacity=1}),0)}))})),this.modalClose.addEventListener("click",(function(){t.closeModal()})),this.modalWrapp.addEventListener("click",(function(){t.closeModal()}))}}])&&c(e.prototype,n),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.regPatternts={name:/^[a-z]{2,10}$/i,pass:/^[\w\d-_!@$&]{8,20}$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\.[a-z0-9-]+)*$/i},this.errorMsgs={name:"Name must contain: 2-10 letters",pass:"Password must contain: 8-20 characters (you can use: -_!@$&)",email:"Invalid  e-mail address"},this.form=document.body.querySelector(e)}var e,n;return e=t,(n=[{key:"getErrorMsg",value:function(t){return this.errorMsgs[t]}},{key:"showFormInputError",value:function(t,e){var n=this,i=this.form.querySelector("label[for='".concat(t.getAttribute("name"),"']"));i.innerText=this.getErrorMsg(e),i.classList.add("label--error"),setTimeout((function(){n.hideFormInputError()}),2e3)}},{key:"hideFormInputError",value:function(){this.form.querySelectorAll("label").forEach((function(t){t.classList.remove("label--error")}))}},{key:"validateForm",value:function(){var t=this,e={name:this.form.querySelectorAll("input[type=text], input:not([type])"),pass:this.form.querySelectorAll("input[type=password]"),email:this.form.querySelectorAll("input[type=email]")},n=function(n){e[n].length>0&&e[n].forEach((function(e){t.regPatternts[n].test(e.value)||t.showFormInputError(e,n)}))};for(var i in e)n(i)}},{key:"init",value:function(){var t=this;this.form.addEventListener("submit",(function(e){e.preventDefault(),t.validateForm()}))}}])&&u(e.prototype,n),t}();new n("#main-slider",2,2e3).init(),new n("#text-slider",3,1e3).init(),new o("#tabs",2).init(),new s("#nav").init(),new h("#modal-slider","#main-slider").init();for(var v=0,m=[".subs-form",".login-form"];v<m.length;v++)new f(m[v]).init()})();